# sdddf

Ниже — минимальный, рабочий шаблон **только на Python** для обучения модели и
реального детекта на экране (красные рамки вокруг того, чему вы её обучили).

## 1) Подготовка окружения
```bash
python -m venv .venv
source .venv/bin/activate
pip install -r scripts/requirements.txt
```

## 2) Как проходит обучение (объяснение)
1. **Сбор данных**: делаете скриншоты/кадры, где виден объект (например игрок).
2. **Разметка**: для каждой картинки рисуете рамки и сохраняете координаты в формате YOLO.
3. **Деление на train/val**: часть данных идёт на обучение, часть на проверку качества.
4. **Запуск обучения**: YOLOv8 берёт базовую модель и дообучается на вашем датасете.
5. **Проверка результата**: смотрите метрики и примеры детекта, корректируете датасет.

## 3) Подготовка датасета (YOLO)
Структура папок:
```
dataset/
  images/
    train/
    val/
  labels/
    train/
    val/
```

Для каждой картинки `images/train/img_001.jpg` должен быть файл метки
`labels/train/img_001.txt`.

Формат строки в txt (YOLO):
```
<class_id> <x_center> <y_center> <width> <height>
```
Где все координаты **нормированы** в диапазон 0..1 относительно размеров изображения.

## 4) YAML: можно авто-сгенерировать
Если файла YAML нет, скрипт может сам его создать по `--dataset-dir` и `--names`:
```bash
python scripts/train_yolo.py \
  --data data/rust_players.yaml \
  --dataset-dir /path/to/dataset \
  --names player,enemy \
  --epochs 100 \
  --img 960
```

## 5) Обучение (если YAML уже есть)
```bash
python scripts/train_yolo.py --data data/rust_players.yaml --epochs 100 --img 960
```

После обучения веса будут в:
```
runs/detect/train/weights/best.pt
```

## 6) Live-детект экрана (красные рамки)
```bash
python scripts/live_detect.py --model runs/detect/train/weights/best.pt --classes player
```

Полезные параметры:
- `--region left,top,width,height` — ограничить область экрана (например, только окно игры).
- `--conf` и `--iou` — пороги уверенности и NMS.
- `--display-scale` — масштаб окна предпросмотра.

## Примечания
- Для игр вроде Rust нужно собрать примеры именно ваших объектов (игроков, предметов, интерфейса)
  и обучить на них модель. В реальном времени код выделит красными рамками всё, что похоже на то,
  чему вы её обучали.
- Чем больше и разнообразнее датасет (разные карты, время суток, расстояния), тем стабильнее детект.
